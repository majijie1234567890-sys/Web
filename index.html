<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å°</title>
    <style>
        /* --- CSS æ ·å¼è¡¨ --- */
        :root {
            --lake-blue: #5D83A6;
            --falu-red: #701D1C;
            --sunset: #FFC872;
            --bg-light: #f4f7f6;
            --text-dark: #333;
            --white: #ffffff;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* å¤´éƒ¨å¯¼èˆª */
        header {
            background-color: var(--lake-blue);
            color: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 {
            cursor: pointer;
            font-size: 1.5rem;
        }

        nav button {
            background: none;
            border: none;
            color: var(--white);
            margin-left: 15px;
            cursor: pointer;
            font-size: 1rem;
        }

        nav button:hover {
            color: var(--sunset);
            text-decoration: underline;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            min-height: 80vh;
        }

        /* é¡µé¢æ˜¾ç¤ºæ§åˆ¶ */
        .view {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- é¦–é¡µåˆ†ç±» --- */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .category-card {
            background: var(--white);
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .category-card:hover {
            border-color: var(--lake-blue);
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        .category-card h3 {
            color: var(--lake-blue);
            margin-bottom: 10px;
        }

        .category-icon {
            font-size: 3rem;
            color: var(--sunset);
            margin-bottom: 1rem;
        }

        /* --- å•†å“åˆ—è¡¨é¡µ --- */
        .section-title {
            color: var(--lake-blue);
            border-bottom: 3px solid var(--sunset);
            display: inline-block;
            margin-bottom: 2rem;
            padding-bottom: 5px;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
        }

        .product-card {
            background: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: scale(1.02);
        }

        .product-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background-color: #eee;
        }

        .product-info {
            padding: 1rem;
        }

        .product-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .product-price {
            color: var(--falu-red);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .product-condition {
            display: inline-block;
            background-color: var(--lake-blue);
            color: white;
            font-size: 0.75rem;
            padding: 2px 6px;
            border-radius: 4px;
            margin-top: 5px;
        }

        /* --- å•†å“è¯¦æƒ…é¡µ --- */
        .detail-container {
            background: var(--white);
            padding: 2rem;
            border-radius: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .detail-image {
            flex: 1;
            min-width: 300px;
        }

        .detail-image img {
            width: 100%;
            border-radius: 8px;
            border: 2px solid var(--bg-light);
        }

        .detail-content {
            flex: 1;
            min-width: 300px;
        }

        .detail-content h2 {
            color: var(--lake-blue);
            margin-bottom: 1rem;
        }

        .detail-price {
            font-size: 2rem;
            color: var(--falu-red);
            margin-bottom: 1rem;
        }

        .detail-meta {
            margin-bottom: 2rem;
        }

        .detail-meta p {
            margin-bottom: 0.5rem;
        }

        .tag {
            background-color: var(--sunset);
            color: var(--text-dark);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        .contact-box {
            background-color: #f9f9f9;
            border-left: 5px solid var(--falu-red);
            padding: 1rem;
            margin-top: 1rem;
        }

        .back-btn {
            display: inline-block;
            margin-bottom: 1rem;
            color: var(--lake-blue);
            cursor: pointer;
            text-decoration: underline;
        }

        /* åº•éƒ¨ */
        footer {
            text-align: center;
            padding: 2rem;
            background-color: var(--lake-blue);
            color: var(--white);
            margin-top: auto;
        }

    </style>
</head>
<body>

    <header>
        <h1 onclick="goHome()">CampusTrade æ ¡å›­é›†å¸‚</h1>
        <nav>
            <button onclick="goHome()">é¦–é¡µ</button>
            <button onclick="showAll()">æ‰€æœ‰å•†å“</button>
        </nav>
    </header>

    <main class="container">
        <div id="home-view" class="view active">
            <h2 style="text-align:center; margin-bottom: 2rem; color: var(--lake-blue);">æµè§ˆåˆ†ç±»</h2>
            <div class="category-grid">
                <div class="category-card" onclick="filterCategory('learning')">
                    <div class="category-icon">ğŸ“š</div>
                    <h3>å­¦ä¹ ç”¨å“</h3>
                    <p>æ•™æã€ç¬”è®°ã€æ–‡å…·</p>
                </div>
                <div class="category-card" onclick="filterCategory('electronics')">
                    <div class="category-icon">ğŸ’»</div>
                    <h3>ç”µå­äº§å“</h3>
                    <p>æ‰‹æœºã€ç”µè„‘ã€é…ä»¶</p>
                </div>
                <div class="category-card" onclick="filterCategory('apparel')">
                    <div class="category-icon">ğŸ‘•</div>
                    <h3>æœé¥°ç®±åŒ…</h3>
                    <p>è¡£ç‰©ã€é‹å­ã€èƒŒåŒ…</p>
                </div>
                <div class="category-card" onclick="filterCategory('sports')">
                    <div class="category-icon">ğŸ€</div>
                    <h3>ä½“è‚²å™¨æ</h3>
                    <p>çƒæ‹ã€å¥èº«å™¨æ</p>
                </div>
                <div class="category-card" onclick="filterCategory('daily')">
                    <div class="category-icon">ğŸ§´</div>
                    <h3>ç”Ÿæ´»ç™¾è´§</h3>
                    <p>æ”¶çº³ã€å°ç¯ã€æ‚ç‰©</p>
                </div>
            </div>
        </div>

        <div id="list-view" class="view">
            <div class="back-btn" onclick="goHome()">&larr; è¿”å›é¦–é¡µ</div>
            <h2 id="list-title" class="section-title">å•†å“åˆ—è¡¨</h2>
            <div id="product-list-container" class="product-grid">
                </div>
        </div>

        <div id="detail-view" class="view">
            <div class="back-btn" onclick="goBackToList()">&larr; è¿”å›åˆ—è¡¨</div>
            <div class="detail-container" id="product-detail-container">
                </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 CampusTrade äºŒæ‰‹äº¤æ˜“å¹³å° | ç»¿è‰²æ ¡å›­ å¾ªç¯åˆ©ç”¨</p>
    </footer>

    <script>
        // --- æ¨¡æ‹Ÿæ•°æ®åº“æ•°æ® ---
        // å›¾ç‰‡ä½¿ç”¨äº† Placeholder å ä½å›¾æœåŠ¡
        const products = [
            // å­¦ä¹ ç”¨å“ (Learning Supplies)
            { id: 1, category: 'learning', name: 'é«˜ç­‰æ•°å­¦ï¼ˆç¬¬ä¸ƒç‰ˆï¼‰ä¸Šä¸‹å†Œ', price: 'Â¥25.00', condition: 'ä¹æˆæ–°', contact: 'å¾®ä¿¡: math_master', img: 'https://placehold.co/400x300/5D83A6/white?text=Math+Book', desc: 'è€ƒç ”ç”¨ä¹¦ï¼Œåªç¿»è¿‡å‡ æ¬¡ï¼Œå†…éƒ¨æœ‰å°‘é‡ç¬”è®°ã€‚' },
            { id: 2, category: 'learning', name: 'Casio ç§‘å­¦è®¡ç®—å™¨ fx-991', price: 'Â¥45.00', condition: 'å…«æˆæ–°', contact: 'QQ: 12345678', img: 'https://placehold.co/400x300/5D83A6/white?text=Calculator', desc: 'åŠŸèƒ½å®Œå¥½ï¼Œè€ƒè¯•å¿…å¤‡ï¼Œé€ç”µæ± ã€‚' },
            
            // ç”µå­äº§å“ (Electronics)
            { id: 3, category: 'electronics', name: 'iPad Air 4 64G ç°è‰²', price: 'Â¥2200.00', condition: 'ä¹äº”æ–°', contact: 'ç”µè¯: 13800138000', img: 'https://placehold.co/400x300/5D83A6/white?text=iPad', desc: 'ä¸€ç›´æˆ´å¥—è´´è†œï¼Œæ— åˆ’ç—•ï¼Œç”µæ± å¥åº·95%ã€‚' },
            { id: 4, category: 'electronics', name: 'ç½—æŠ€é™éŸ³é¼ æ ‡ Pebble', price: 'Â¥30.00', condition: 'ä¸ƒæˆæ–°', contact: 'å¾®ä¿¡: mouse_sell', img: 'https://placehold.co/400x300/5D83A6/white?text=Mouse', desc: 'é€‚åˆå›¾ä¹¦é¦†ä½¿ç”¨ï¼Œéå¸¸å®‰é™ï¼Œå¸¦æ¥æ”¶å™¨ã€‚' },

            // æœé¥°ç®±åŒ… (Apparel & Shoes & Bags)
            { id: 5, category: 'apparel', name: 'Nike è¿åŠ¨åŒè‚©åŒ… é»‘è‰²', price: 'Â¥80.00', condition: 'å…«æˆæ–°', contact: 'å¾®ä¿¡: bag_boy', img: 'https://placehold.co/400x300/5D83A6/white?text=Nike+Bag', desc: 'å®¹é‡å¤§ï¼Œé€‚åˆè£…ç”µè„‘å’Œä¹¦æœ¬ï¼Œæ‹‰é“¾å®Œå¥½ã€‚' },
            { id: 6, category: 'apparel', name: 'ä¼˜è¡£åº“ç‰›ä»”å¤–å¥— (Lç )', price: 'Â¥50.00', condition: 'ä¹æˆæ–°', contact: 'QQ: 87654321', img: 'https://placehold.co/400x300/5D83A6/white?text=Jacket', desc: 'ä¹°å¤§äº†åªç©¿è¿‡ä¸€æ¬¡ï¼Œå·²æ¸…æ´—å¹²å‡€ã€‚' },

            // ä½“è‚²å™¨æ (Sports Equipment)
            { id: 7, category: 'sports', name: 'å°¤å°¼å…‹æ–¯ç¾½æ¯›çƒæ‹ (å…¥é—¨æ¬¾)', price: 'Â¥100.00', condition: 'å…­æˆæ–°', contact: 'ç”µè¯: 13900139000', img: 'https://placehold.co/400x300/5D83A6/white?text=Racket', desc: 'æ‹æ¡†æœ‰æ‰æ¼†ï¼Œä½†ä¸å½±å“ä½¿ç”¨ï¼Œå·²ç©¿æ–°çº¿ã€‚' },
            { id: 8, category: 'sports', name: 'å®¶ç”¨ç‘œä¼½å« (åŠ åš)', price: 'Â¥15.00', condition: 'ä¹æˆæ–°', contact: 'å¾®ä¿¡: yoga_girl', img: 'https://placehold.co/400x300/5D83A6/white?text=Yoga+Mat', desc: 'å®¿èˆå¥èº«ç”¨ï¼Œå¾ˆåšå®ï¼Œå¸¦æ”¶çº³å¸¦ã€‚' },

            // ç”Ÿæ´»ç™¾è´§ (Daily Secondhand Items)
            { id: 9, category: 'daily', name: 'å°ç±³å°ç¯ 1S', price: 'Â¥60.00', condition: 'ä¹æˆæ–°', contact: 'å¾®ä¿¡: light_seller', img: 'https://placehold.co/400x300/5D83A6/white?text=Lamp', desc: 'æŠ¤çœ¼æ¨¡å¼ï¼Œæ”¯æŒç±³å®¶APPæ§åˆ¶ã€‚' },
            { id: 10, category: 'daily', name: 'ç®€æ˜“æ”¶çº³æŸœ (ä¸‰å±‚)', price: 'Â¥20.00', condition: 'å…«æˆæ–°', contact: 'QQ: 11223344', img: 'https://placehold.co/400x300/5D83A6/white?text=Storage', desc: 'æ¯•ä¸šå¸¦ä¸èµ°ï¼Œè‡ªæä¼˜å…ˆã€‚' }
        ];

        // ç±»åˆ«åç§°æ˜ å°„
        const categoryNames = {
            'learning': 'å­¦ä¹ ç”¨å“',
            'electronics': 'ç”µå­äº§å“',
            'apparel': 'æœé¥°ç®±åŒ…',
            'sports': 'ä½“è‚²å™¨æ',
            'daily': 'ç”Ÿæ´»ç™¾è´§'
        };

        let lastCategory = ''; // è®°å½•ä¸Šä¸€æ¬¡æµè§ˆçš„åˆ†ç±»ï¼Œç”¨äºè¿”å›æŒ‰é’®

        // --- é¡µé¢å¯¼èˆªé€»è¾‘ ---

        function hideAllViews() {
            document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
        }

        function goHome() {
            hideAllViews();
            document.getElementById('home-view').classList.add('active');
            window.scrollTo(0,0);
        }

        function showAll() {
            lastCategory = '';
            renderProductList(products, 'æ‰€æœ‰å•†å“');
        }

        function filterCategory(cat) {
            lastCategory = cat;
            const filtered = products.filter(p => p.category === cat);
            renderProductList(filtered, categoryNames[cat]);
        }

        function goBackToList() {
            if (lastCategory) {
                filterCategory(lastCategory);
            } else {
                showAll();
            }
        }

        // --- æ¸²æŸ“é€»è¾‘ ---

        function renderProductList(items, title) {
            hideAllViews();
            document.getElementById('list-view').classList.add('active');
            document.getElementById('list-title').innerText = title;
            
            const container = document.getElementById('product-list-container');
            container.innerHTML = '';

            if (items.length === 0) {
                container.innerHTML = '<p>æš‚æ— å•†å“</p>';
                return;
            }

            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.onclick = () => showProductDetail(item.id);
                
                card.innerHTML = `
                    <img src="${item.img}" alt="${item.name}" class="product-img">
                    <div class="product-info">
                        <div class="product-name">${item.name}</div>
                        <div class="product-price">${item.price}</div>
                        <div class="product-condition">${item.condition}</div>
                    </div>
                `;
                container.appendChild(card);
            });
            window.scrollTo(0,0);
        }

        function showProductDetail(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            hideAllViews();
            document.getElementById('detail-view').classList.add('active');

            const container = document.getElementById('product-detail-container');
            container.innerHTML = `
                <div class="detail-image">
                    <img src="${product.img}" alt="${product.name}">
                </div>
                <div class="detail-content">
                    <h2>${product.name}</h2>
                    <div class="detail-price">${product.price}</div>
                    <div class="detail-meta">
                        <p><strong>æ–°æ—§ç¨‹åº¦ï¼š</strong> <span class="tag">${product.condition}</span></p>
                        <p><strong>åˆ†ç±»ï¼š</strong> ${categoryNames[product.category]}</p>
                        <p><strong>å•†å“æè¿°ï¼š</strong><br>${product.desc}</p>
                    </div>
                    
                    <div class="contact-box">
                        <h3>å–å®¶è”ç³»æ–¹å¼</h3>
                        <p style="font-size: 1.2rem; margin-top: 5px;">${product.contact}</p>
                        <p style="font-size: 0.9rem; color: #666; margin-top: 5px;">è”ç³»æ—¶è¯·å¤‡æ³¨æ¥è‡ªæ ¡å›­äº¤æ˜“å¹³å°</p>
                    </div>
                </div>
            `;
            window.scrollTo(0,0);
        }
    </script>
</body>
</html>